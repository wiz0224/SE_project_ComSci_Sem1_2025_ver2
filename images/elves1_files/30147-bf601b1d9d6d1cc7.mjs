(self.modernJsonp=self.modernJsonp||[]).push([["30147"],{491224:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"StructuredFeedStoryModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDynamicJustify",kind:"LinkedField",name:"dynamicJustifyContent",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"narrowView",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wideView",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"DeprecatedCarouselModule_story"},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};n.hash="4986fdd0f1b54e5a15f9c234194a26a6";let r=n},624152:function(e,t,i){i.d(t,{Z:()=>d});var n=i(686659),r=i(667294),a=i(20256),l=i(806513),s=i(785893);function o(){return(0,r.useEffect)(()=>{(0,n.Z)("EmptyItemRep","/app/packages/StructuredFeed/ItemReps/utils/EmptyItemRep.tsx")},[]),(0,s.jsx)(a.xu,{width:l.yF})}function d(){return(0,r.useEffect)(()=>{(0,n.Z)("EmptyItemRepList","/app/packages/StructuredFeed/ItemReps/utils/EmptyItemRepList.tsx")},[]),(0,s.jsx)(r.Fragment,{children:Array(12).fill(void 0).map((e,t)=>(0,s.jsx)(o,{},t))})}},567121:function(e,t,i){i.d(t,{Z:()=>d});var n=i(686659),r=i(667294),a=i(20256),l=i(867745),s=i(785893);let o=new Map([["pin",4],["explorearticle",2]]);function d({children:e,itemType:t,overrideMarginBottom:i}){return(0,r.useEffect)(()=>{(0,n.Z)("StructuredFeedElementWrapper","/app/packages/StructuredFeed/ItemReps/utils/StructuredFeedElementWrapper.tsx")},[]),(0,s.jsx)(a.xu,{marginBottom:i??o.get(t)??l.mT,children:e})}},978387:function(e,t,i){i.r(t),i.d(t,{default:()=>eo});var n,r=i(686659),a=i(667294);i(167912);var l=i(20256),s=i(28031),o=i(183e3),d=i(79271),c=i(941859),u=i(480353),p=i(806513),y=i(719748),g=i(3574),m=i(760510),x=i(867745),h=i(191024),f=i(785893);let j=()=>(0,f.jsx)(l.xu,{color:"secondary",height:p.yF,width:p.yF}),_={1:{itemRep:g.Z,deprecatedActionShape:"square",deprecatedGetActionImage:e=>e.images?.orig?.url||""},4:{itemRep:y.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.images?.orig?.url||""},2:{itemRep:m.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.image_large_url}};function w({auxData:e,componentFallback:t,showExpanded:i=!0,story:n,view:s,viewParameter:o}){(0,a.useEffect)(()=>{(0,r.Z)("FreeformModule","/app/packages/StructuredFeed/ModuleReps/FreeformModule/FreeformModule.tsx")},[]);let d=(_[(n.display_options?.content_display||{}).model_type]||x.g5).itemRep||j,c=n.display_options?.content_display?.component_type??t;return(0,f.jsx)(l.xu,{marginBottom:2,children:(0,f.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[n.title&&(0,f.jsx)(h.Z,{showExpanded:i,storyKey:{type:"Legacy",data:n}}),(0,f.jsx)(l.kC,{gap:2,justifyContent:"center",wrap:!0,children:n.objects?.map(function(t,i){return(0,f.jsx)(d,{auxData:e,component:c,imagePlaceholderColor:"rgba(0, 0, 0, 0)",index:i,item:t,story:n,view:s,viewParameter:o},i)})})]})})}var v=i(222451),S=i(624152),I=i(65381),b=i(567121),k=i(309947),F=i(739405);let C=({numCols:e,numRows:t,children:i})=>{(0,a.useEffect)(()=>{(0,r.Z)("GridComponents","/app/packages/StructuredFeed/ModuleReps/GridSectionModule/GridComponents.tsx")},[]);let n=(0,F.HG)(),{experimentalGutterBoints:s}=(0,k.Z)(),o=s??(n?p.jC:p.D6);return(0,f.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{display:"grid",gridTemplateColumns:`repeat(${e}, 1fr)`,gridTemplateRows:`repeat(${t}, 1fr)`,columnGap:o}},children:i})},T=({numCols:e,numRows:t,children:i})=>((0,a.useEffect)(()=>{(0,r.Z)("GridComponents","/app/packages/StructuredFeed/ModuleReps/GridSectionModule/GridComponents.tsx")},[]),(0,f.jsxs)(a.Fragment,{children:[(0,f.jsx)(l.xu,{display:"block",mdDisplay:"none",width:"100%",children:(0,f.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{display:"grid",gridTemplateRows:`repeat(${t}, 1fr)`,gap:"8px"}},children:i})}),(0,f.jsx)(l.xu,{display:"none",lgDisplay:"none",mdDisplay:"block",width:"100%",children:(0,f.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridTemplateRows:`repeat(${t}, 1fr)`,gap:"8px"}},children:i})}),(0,f.jsx)(l.xu,{display:"none",lgDisplay:"block",width:"100%",children:(0,f.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{display:"grid",gridTemplateColumns:`repeat(${e}, 1fr)`,gridTemplateRows:`repeat(${t}, 1fr)`,gap:"12px"}},marginStart:10,children:i})})]}));var Z=i(29786),M=i(592150),R=i(65210);let E="rgba(0, 0, 0, 0)",D={1:375};function K({auxData:e,componentFallback:t,dangerouslySetActionUrl:i,dangerouslySetContentVisibleItemCount:n,disableHeader:r,dynamicItemWidth:s,initialSlotIndex:o=0,showExpanded:d,story:c,surface:u,view:y,viewParameter:g,width:m}){let x=(0,F.HG)(),j=["season_quiz_result_related_searches","related_searches_organic"].includes(c?.story_type??"")&&x,{content_display:_={},header_display:{header_image_url:w=""}={}}=c?.display_options??{},k=_.model_type,{action:K,title:{format:H=""}={}}=c,L=i||c.action?.url||"",z=_.component_type??t,P=_.grid_layout?.rows,W="number"==typeof P?P:1,G=_.grid_layout?.cols,A="number"==typeof G?G:-1,O=-1===A,J=_.dynamic_item_width||{},U=J.narrow_view?D[J.narrow_view]:"100%",N=n??_.content_visible_item_count?.web,V=N&&m&&s?(0,p.Wv)({defaultItemWidth:p.yF,contentVisibleItemCount:N,gap:p.oX,moduleWidth:"number"==typeof m?m:parseInt(m,10)}):p.yF,{containerRef:$,itemsToRender:B,actionItem:X}=(0,R.Z)({items:c.objects||[],itemWidth:(0,Z.Z)()?p.tG:V,itemGap:p.oX,actionItemType:K?"one":void 0,numRows:W}),q=X?X&&"object"==typeof X?1===k||4===k?X.images?.orig?.url||"":2===k&&X.image_large_url||"":"":void 0,Y=(O?B:c.objects||[]).map((t,i)=>(0,f.jsx)(b.Z,{itemType:"string"==typeof t.type?t.type:null,overrideMarginBottom:j?0:void 0,children:(0,f.jsx)(I.Z,{auxData:e,boardKey:null,component:z,imagePlaceholderColor:E,imageWidth:V,item:t,pinKey:null,relatedInterestKey:null,slotIndex:(o??0)+i,story:c,surface:u,view:y,viewParameter:g})},`grid-section-module-item-${"id"in t?t.id:i}`)),Q=!!L&&!!K?.text&&q&&(0,f.jsx)(v.Z,{auxData:e,buttonText:K.text,component:z,contentIds:c.content_ids,element:179,imageWidth:V,previewImageSrc:q,shape:function(e){switch(e){case 1:default:return"square";case 4:case 2:return"circle"}}(k??1),storyId:c.id,storyType:c.story_type,url:L,view:y,viewParameter:g});return j?(0,f.jsxs)(l.xu,{alignItems:"stretch",borderStyle:"lg",color:"default",direction:"column",display:"flex",justifyContent:"start",lgDirection:"row",padding:5,rounding:4,width:U,children:[(0,f.jsxs)(l.xu,{alignItems:"start",direction:"column",display:"flex",justifyContent:"center",lgMarginStart:5,children:[w&&(0,f.jsx)(l.xu,{height:36,marginBottom:2,width:36,children:(0,f.jsx)(l.zd,{height:36,rounding:3,width:36,children:(0,f.jsx)(l.Ee,{alt:H??"",naturalHeight:1,naturalWidth:1,src:w})})}),c.title&&!r&&(0,f.jsx)(h.Z,{lgMarginBottomOverride:0,showExpanded:d,storyKey:{type:"Legacy",data:c}})]}),(0,f.jsx)(T,{numCols:A,numRows:W,children:Y}),Q]}):(0,f.jsxs)(l.xu,{alignItems:"stretch",color:"default",direction:"column",display:"flex",justifyContent:"start",width:U,children:[c.title&&!r&&(0,f.jsx)(h.Z,{showExpanded:d,storyKey:{type:"Legacy",data:c}}),O?(0,f.jsxs)(M.Z,{containerRef:$,itemGap:p.oX,numRows:W,rowAlignment:"center",children:[Y,Q,W>1&&(0,f.jsx)(S.Z,{})]}):(0,f.jsxs)(a.Fragment,{children:[(0,f.jsx)(C,{numCols:A,numRows:W,children:Y}),Q]})]})}function H({auxData:e,componentFallback:t,showExpanded:i=!0,story:n,view:r,viewParameter:a}){let s=n.display_options?.content_display?.component_type??t,o=(0,Z.Z)()?p.tG:p.yF;return(0,f.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[n.title&&(0,f.jsx)(h.Z,{showExpanded:i,storyKey:{type:"Legacy",data:n}}),(0,f.jsx)(l.Rk,{columnWidth:o,gutterWidth:p.oX,items:n.objects||[],layout:"flexible",renderItem:({data:t,itemIdx:i})=>(0,f.jsx)(I.Z,{auxData:e,boardKey:null,component:s,imagePlaceholderColor:E,item:t,pinKey:null,relatedInterestKey:null,slotIndex:i??0,story:n,view:r,viewParameter:a},i)})]})}function L(e){switch((0,a.useEffect)(()=>{(0,r.Z)("GridSectionModule","/app/packages/StructuredFeed/ModuleReps/GridSectionModule/GridSectionModule.tsx")},[]),e.story.display_options?.content_display?.pins_display){case 3:case 1:case 2:return(0,f.jsx)(H,{...e});default:return(0,f.jsx)(K,{...e})}}var z=i(23641),P=i(440077);let W={0:"400",1:"400",2:"700",3:"600",4:"200"};function G({auxData:e,component:t,onImageLoad:i,story:n,view:s,viewParameter:o}){(0,a.useEffect)(()=>{(0,r.Z)("SingleImageHero","/app/packages/StructuredFeed/ModuleReps/HeroModule/SingleImageHero.tsx")},[]);let{id:c,story_type:u,title:p="",description:y=""}=n,{hero_display_options:g,attribution_display_options:m}=n.display_options?.header_display||{},x=n.display_options?.header_display||{},h=W[x?.header_size||1],{image_style:j,dominant_color:_,width_height_ratio:w=1,image_url:v}=g||{},{text:S,subspan_text:I,attribution_action:b,icon:k}=m||{},{subspan_only:F}=b||{},C=(0,d.ZP)({loggingId:c,objectIdStr:c,impressionType:"Story",contextLogData:(0,a.useMemo)(()=>({story_id:c,story_type:u,...e}),[c,u,e]),slotIndex:0,viewParameter:o,viewType:s,componentType:t}),T="string"==typeof p?p:p?.format??"",Z="string"==typeof y?y:y?.format??"";return(0,f.jsx)(l.xu,{ref:C,"data-test-id":"sf-single-image-hero",children:(0,f.jsxs)(l.kC,{direction:"column",children:[(0,f.jsxs)(l.xu,{overflow:"hidden",position:"relative",children:[(0,f.jsx)(l.xu,{dangerouslySetInlineStyle:1===j?{__style:{filter:"blur(4px)",transform:"scale(1.05)"}}:void 0,children:(0,f.jsx)(l.xu,{width:"100%",children:(0,f.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:`${w} / 1`}},children:(0,f.jsx)(l.Ee,{alt:"",color:_||"#fff",fit:"cover",naturalHeight:1,naturalWidth:w||1,onLoad:i,role:"presentation",src:v||void 0,children:3===j?(0,f.jsxs)(a.Fragment,{children:[(0,f.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{background:P.OHS}},"data-test-id":"single-image-hero-gradient-overlay-top",height:"50%",left:!0,position:"absolute",right:!0,top:!0}),(0,f.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:P.AEu}},"data-test-id":"single-image-hero-gradient-overlay-bottom",height:"50%",left:!0,position:"absolute",right:!0})]}):null})})})}),(0,f.jsx)(l.xu,{bottom:!0,"data-test-id":"bottom-title",padding:4,position:"absolute",children:(0,f.jsx)(l.X6,{accessibilityLevel:1,color:"light",size:h,children:T})})]}),(0,f.jsx)(l.xu,{marginTop:4,paddingX:4,children:(0,f.jsxs)(l.kC,{direction:"column",children:[(0,f.jsx)(l.xu,{children:(0,f.jsx)(l.xv,{size:"300",children:Z})}),m&&(0,f.jsx)(l.xu,{"data-test-id":"single-image-hero-attribution-container",marginTop:3,children:(0,f.jsxs)(l.kC,{alignItems:"center",direction:"row",children:[1===k&&(0,f.jsx)(l.JO,{accessibilityLabel:"",color:"primary",dataTestId:"single-image-hero-pinterest-icon",icon:"pinterest",size:24}),2===k&&(0,f.jsx)(l.JO,{accessibilityLabel:"",dataTestId:"single-image-hero-info-circle-icon",icon:"info-circle",size:24}),3===k&&(0,f.jsx)(l.JO,{accessibilityLabel:"",dataTestId:"single-image-hero-arrow-up-right-icon",icon:"arrow-up-right",size:24}),(0,f.jsx)(l.xu,{marginStart:2*(0!==k),children:(()=>{if(!m||!S)return null;if(!b?.url)return(0,f.jsx)(l.xv,{size:"100",children:S});switch(F){case 1:{if(!I)return(0,f.jsx)(l.xv,{size:"100",children:S});let e=S.indexOf(I);if(-1===e)return(0,f.jsx)(l.xv,{size:"100",children:S});let t=S.substring(0,e),i=S.substring(e+I.length);return(0,f.jsxs)(l.xv,{size:"100",children:[t,(0,f.jsx)(l.xv,{inline:!0,size:"100",weight:"bold",children:(0,f.jsx)(l.rU,{display:"inline",href:b.url,underline:"none",children:I})}),i]})}case 2:return(0,f.jsx)(l.xv,{size:"100",children:(0,f.jsx)(l.rU,{href:b.url,children:S})});default:return(0,f.jsx)(l.xv,{size:"100",children:S})}})()})]})})]})})]})})}var A=i(312048),O=i(230201),J=i(319226),U=i(935059),N=i(24246),V=i(33581);let $=({actionText:e,actionUrl:t,articleId:i,author:n,authorAvatar:s,auxData:o,component:c,contentIds:u,coverImage:p,debug:y,index:g,isFullWidth:m=!1,onImageLoad:x,storyId:h,storyType:j,subtitle:_,title:w,view:v,viewParameter:S,width:I,windowWidth:b})=>{(0,a.useEffect)(()=>{(0,r.Z)("Hero","/app/packages/StructuredFeed/ModuleReps/HeroModule/Hero.tsx")},[]);let k=(0,N.Z)(),F=(0,A.s0)(),{logContextEvent:C}=(0,O.u)(),[T,Z]=(0,a.useState)(!1),M=(0,U.Z)(),R=M.isAuth?M?.avatar_color_index:void 0,E=(0,d.ZP)({loggingId:i,objectIdStr:i,impressionType:"Article",contextLogData:{content_ids:u,story_id:h,story_type:j,article_id:i,...o},slotIndex:g,viewParameter:S,viewType:v,componentType:c});return(0,f.jsx)(l.xu,{"data-test-id":"sf-hero",children:(0,f.jsxs)(l.xu,{ref:E,height:"auto",onMouseEnter:()=>Z(!0),onMouseLeave:()=>Z(!1),width:I,children:[(0,f.jsx)(l.iP,{onTap:()=>{C({event_type:101,view_type:v,view_parameter:S,component:c,aux_data:{article_id:i,content_ids:u,story_id:h,story_type:j,...o}}),F(t)},children:(0,f.jsxs)(l.xu,{height:m?400:"35vw",maxHeight:500,overflow:"hidden",position:"relative",children:[(0,f.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:T?"scale(1.5)":"scale(1)"}},height:"100%",width:"100%",children:(0,f.jsx)(l.Ee,{alt:k._('Cover image of this shopping spotlight', 'hero.heroCoverImage', 'alt text for an image previewing the contents of a spotlight article'),color:"#fff",fit:"cover",naturalHeight:400,naturalWidth:400,onLoad:x,src:p,children:(0,f.jsx)(l.xu,{color:"transparentDarkGray",display:"block",height:"100%",opacity:.3,width:"100%"})})}),(0,f.jsx)(l.xu,{bottom:!0,marginBottom:12*!!m,padding:6,position:"absolute",width:"100%",children:(0,f.jsxs)(l.kC,{direction:"column",height:"100%",justifyContent:"end",children:[(0,f.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:T?"translateY(-20px)":"translateY(20px)"}},children:(0,f.jsx)(l.X6,{color:"light",size:b<=822?"700":b<1e3?"400":b<1100?"600":"700",children:w})}),(0,f.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{opacity:+!!T,transition:T?"opacity 0.4s ease-in":"opacity 0.4s ease-out"}},display:"block",height:T?"auto":20,overflow:"hidden",children:[(0,f.jsx)(l.xv,{color:"inverse",children:_}),n&&(0,f.jsx)(l.xu,{marginTop:4,children:(0,f.jsxs)(l.kC,{alignItems:"center",direction:"row",children:[(0,f.jsx)(J.qE,{color:R,name:n,size:"md",src:s}),"Â ",(0,f.jsx)(l.xv,{color:"inverse",children:n})]})})]}),(0,f.jsx)(l.xu,{marginTop:4,width:"74px",children:(0,f.jsx)(l.zx,{color:"tertiary",onClick:()=>{F(t)},size:"lg",text:e})})]})})]})}),void 0!==y&&(0,f.jsx)(V.Z,{data:y})]})})};var B=i(501755),X=i(620766),q=i(206928);function Y({auxData:e,onImageLoad:t,story:i,view:n,viewParameter:s,component:o,width:d}){(0,a.useEffect)(()=>{(0,r.Z)("SingleImageHeroCarousel","/app/packages/StructuredFeed/ModuleReps/HeroModule/SingleImageHeroCarousel.tsx")},[]);let[c,u]=(0,a.useState)(0),p=(0,a.useRef)(null),y=i.objects?.slice(0,3)||[];return(0,f.jsxs)(l.xu,{ref:p,alignItems:"end",display:"flex",height:400,justifyContent:"center",position:"relative",width:d,children:[(0,f.jsx)(B.Z,{containerRef:p.current,id:i.id,index:c,slideWidth:d,children:y.map((r,a)=>(0,f.jsx)($,{actionText:r.action?.text||"",actionUrl:r.action?.url||"",articleId:r.id,auxData:e,component:o,coverImage:r.cover_images&&r.cover_images[0].originals?.url||"",debug:r.debug,index:a,isFullWidth:!0,onImageLoad:t,storyId:i.id,storyType:i.story_type,subtitle:r.subtitle?.format||"",title:r.title?.format||"",view:n,viewParameter:s,width:d,windowWidth:d},r.id))}),(0,f.jsx)(l.xu,{display:"inlineBlock",height:"auto",paddingY:5,position:"absolute",width:"60%",children:(0,f.jsx)(X.Z,{addEllipsis:!0,backNode:(0,f.jsx)(q.Z,{iconColor:"inverse",iconType:"back",showFab:!0}),carouselData:{index:c,entityId:"",carouselSlots:y.map(e=>({id:e.id,title:null}))},carouselIndex:c,forwardNode:(0,f.jsx)(q.Z,{iconColor:"inverse",iconType:"forward",showFab:!0}),handleCarouselSwipe:e=>{u(e)},pinKey:null})})]})}function Q({auxData:e,onImageLoad:t,story:i,view:n,viewParameter:l,component:s,width:o}){(0,a.useEffect)(()=>{(0,r.Z)("SingleImageHeroDisplay","/app/packages/StructuredFeed/ModuleReps/HeroModule/SingleImageHeroDisplay.tsx")},[]);let d=i.objects&&i.objects.length>0,c=i.display_options?.header_display?.hero_display_options?.image_url;return!d&&c?(0,f.jsx)(G,{auxData:e,component:s,onImageLoad:t,story:i,view:n,viewParameter:l}):(0,f.jsx)(Y,{auxData:e,component:s,onImageLoad:t,story:i,view:n,viewParameter:l,width:o})}function ee({auxData:e,component:t,onImageLoad:i,story:n,view:s,viewParameter:o,windowWidth:d}){(0,a.useEffect)(()=>{(0,r.Z)("TripleImageHeroDisplay","/app/packages/StructuredFeed/ModuleReps/HeroModule/TripleImageHeroDisplay.tsx")},[]);let c=n.objects?.slice(0,3)||[];return c.length<3?null:(0,f.jsxs)(a.Fragment,{children:[(0,f.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:c[0].dominant_colors[0]}},flex:"grow"}),c.map((r,a)=>(0,f.jsx)($,{actionText:r.action?.text||"",actionUrl:r.action?.url||"",articleId:r.id,auxData:e,component:t,coverImage:r.cover_images&&r.cover_images[0].originals?.url||"",debug:r.debug,index:a,onImageLoad:i,storyId:n.id,storyType:n.story_type,subtitle:r.subtitle?.format||"",title:r.title?.format||"",view:s,viewParameter:o,width:500,windowWidth:d},r.id)),(0,f.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:c[2].dominant_colors[0]}},flex:"grow"})]})}function et({auxData:e,component:t,pwtSurfaceContext:i,story:n,view:o,viewParameter:d}){(0,a.useEffect)(()=>{(0,r.Z)("HeroModule","/app/packages/StructuredFeed/ModuleReps/HeroModule/HeroModule.tsx")},[]);let{width:c=0}=(0,s.Z)()||{},u=()=>{(0,z.Nx)("RenderHeroImages"),i&&i.markConstraintComplete("RenderHeroImages")},p=c>822&&(n.objects?.length??0)>=3?3:1;return(0,f.jsx)(a.Fragment,{children:(0,f.jsx)(l.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:3===p?(0,f.jsx)(ee,{auxData:e,component:t,onImageLoad:u,story:n,view:o,viewParameter:d,windowWidth:c}):(0,f.jsx)(Q,{auxData:e,component:t,onImageLoad:u,story:n,view:o,viewParameter:d,width:c})})})}function ei({story:e}){(0,a.useEffect)(()=>{(0,r.Z)("SingleImageUpsellModule","/app/packages/StructuredFeed/ModuleReps/SingleImageUpsellModule/SingleImageUpsellModule.tsx")},[]);let t=(0,A.s0)(),{user:i,custom_properties:n,action:s}=e||{},{full_name:o,username:d,image_medium_url:c,avatar_color_index:u}=i||{},y=o||e.title?.format||"",{url:g,text:m}=s||{},{image:x}=n||{};if(!g||!m)return null;let h=(0,f.jsxs)(l.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:"100%",justifyContent:"center",padding:2,position:"relative",children:[d&&c&&(0,f.jsx)(l.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,f.jsx)(J.qE,{color:u||void 0,name:d,size:"sm",src:c})}),y&&(0,f.jsx)(l.xv,{color:"inverse",weight:"bold",children:y})]});return(0,f.jsxs)(l.xu,{marginBottom:4,width:p.yF,children:[(0,f.jsx)(l.iP,{onTap:()=>t(g),children:(0,f.jsx)(l.zd,{height:p.yF,rounding:2,wash:!0,children:"string"==typeof x&&x?(0,f.jsx)(l.Ee,{alt:y,fit:"contain",naturalHeight:p.yF,naturalWidth:p.yF,src:x,children:h}):(0,f.jsx)(l.xu,{height:p.yF,width:p.yF,children:h})})}),(0,f.jsx)(l.xu,{marginTop:3,children:(0,f.jsx)(l.ZP,{fullWidth:!0,href:g,text:m})})]})}let en=new Set([101]);var er=i(618003);let ea="UNKNOWN_CONTAINER_TYPE",el={2:"center",3:"end",1:"start"},es=(void 0!==n||(n=i(491224)).hash&&"4986fdd0f1b54e5a15f9c234194a26a6"!==n.hash&&console.error("The definition of 'StructuredFeedStoryModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function eo(e){var t;(0,a.useEffect)(()=>{(0,r.Z)("StructuredFeedStoryModule","/app/packages/StructuredFeed/ModuleReps/utils/StructuredFeedStoryModule.tsx")},[]);let{auxData:i,componentFallback:n,initialSlotIndex:p,view:y,viewParameter:g,width:m}=e,{story:x,storyKey:j,..._}=e,{width:v=0}=(0,s.Z)()||{},S=(0,o.Z)(es,j),I=S?.displayOptions?.contentDisplay?.componentType??n,b={..._,auxData:{...i,story_type:S?.storyType},component:I},k=(0,d.ZP)({clientTrackingParams:S?.trackingParams,componentType:I,contextLogData:{story_id:S?.storyId,story_type:S?.storyType,content_ids:S?.contentIds,...i},impressionType:"Story",loggingId:S?.storyId,slotIndex:p||0,viewParameter:g,viewType:y}),F=v<=er.$R?S?.displayOptions?.contentDisplay?.dynamicJustifyContent?.narrowView?el[S.displayOptions.contentDisplay.dynamicJustifyContent.narrowView]:"start":S?.displayOptions?.contentDisplay?.dynamicJustifyContent?.wideView?el[S.displayOptions.contentDisplay.dynamicJustifyContent.wideView]:"start",C=(()=>{switch(S?.containerType){case 90:case 139:return(0,f.jsx)(c.default,{...b,story:x,storyKey:S,width:m});case 88:return(0,f.jsx)(h.Z,{...b,storyKey:S});case 89:let{location:e,text:t,url:i}=S?.action||{};return(0,f.jsx)(u.Z,{location:e,text:t,url:i});case 91:return!!x&&(0,f.jsx)(L,{...b,story:x});case 101:return!!x&&(0,f.jsx)(et,{...b,story:x});case 92:return!!x&&(0,f.jsx)(ei,{...b,story:x});case 131:return!!x&&(0,f.jsx)(w,{...b,story:x});default:return ea}})();return C===ea?null:(0,f.jsxs)(l.xu,{ref:k,"data-test-id":S?.storyType??"structured-feed-story-module",display:"flex",justifyContent:F,width:(t=S?.containerType,en.has(t))?void 0:m,children:[C,(0,f.jsx)(l.xu,{})]})}},592150:function(e,t,i){i.d(t,{Z:()=>o});var n=i(686659),r=i(667294),a=i(20256),l=i(785893);let s={center:{outer:"center",inner:"center"},left:{outer:"start",inner:"start"},right:{outer:"end",inner:"end"}};function o({children:e,itemGap:t,containerRef:i,numRows:o=1,rowAlignment:d="center"}){(0,r.useEffect)(()=>{(0,n.Z)("StoryRow","/app/packages/ui/StoryRow.tsx")},[]);let c=s[d];return(0,l.jsx)(a.xu,{ref:i,width:"100%",children:(0,l.jsx)(a.kC,{alignItems:"center",justifyContent:c.outer,children:(0,l.jsx)(a.kC,{dataTestId:"story-row-items-container",gap:{row:Math.floor(t/4),column:0},justifyContent:c.inner,wrap:o>1,children:e})})})}},65210:function(e,t,i){i.d(t,{Z:()=>r});var n=i(667294);function r({items:e,itemWidth:t,itemGap:i,numRows:r=1,actionItemType:a}){let l,[s,o]=function(){let[e,t]=(0,n.useState)(0),i=(0,n.useRef)(null),r=(0,n.useCallback)(()=>{i.current&&t(i.current.clientWidth)},[i]);return(0,n.useEffect)(()=>(window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}),[r]),(0,n.useEffect)(r),[e,i]}(),d=Math.floor((s+i)/(t+i))*r||r,c=e.slice(0,d),u=[];switch(a){case"nextFour":if(d>=e.length){let e=c.pop();u=e?[e]:[]}else c.pop(),u=e.slice(d-1,d+3);break;case"one":l=d>e.length?e[Math.floor(e.length/2)]:c.pop()}return{containerRef:o,itemsToRender:c,actionItem:l,nextFourItems:u}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/30147-bf601b1d9d6d1cc7.mjs.map