(self.modernJsonp=self.modernJsonp||[]).push([["61258"],{822794:function(e,t,a){a.d(t,{Z:()=>r});var s=a(994193);async function r(e,t){let{api:a}=(0,s.t)(),r=(0,s.u)();try{r.attempt("setMultipleBizEntityPropertiesFullUpdate",t);let s=new Date().getTime(),l=await a.put("/ads/v4/business_entities",e,!1);return r.success("setMultipleBizEntityPropertiesFullUpdate",t),r.latency("setMultipleBizEntityPropertiesFullUpdate",new Date().getTime()-s,t),l}catch(e){throw r.failure("setMultipleBizEntityPropertiesFullUpdate",t),e}}(0,s.u)()},548777:function(e,t,a){a.d(t,{m:()=>E,r:()=>_});var s=a(667294),r=a(213491),l=a(367683),o=a(501010),n=a(774838),i=a(661376),d=a(785893);let{Provider:u,get:E}=(0,r.Z)("PinRep");function _({children:e}){let{isAuthenticated:t}=(0,n.B)(),{checkExperiment:a}=(0,o.Z)(),{experience:r}=(0,l.Ow)(1000069),[E,_]=(0,s.useState)(!0),[p,c]=(0,s.useState)(!1),[S,T]=(0,s.useState)(!1),[y,A]=(0,s.useState)(null),[m,O]=(0,s.useState)(null),C=(0,l.oS)(1000069),{anyEnabled:R}=a("ap_bmi_custom_activation_nux_revamp_mweb_v2",{dangerouslySkipActivation:!0}),I=(0,i.Z)(t&&R?{name:"UserStateResource",options:{state:"QUICK_SAVES_BOARD_ID"}}:null).data;(0,s.useEffect)(()=>{if(!t)return void _(!1);r&&(!r||r?.experience_id===500417&&r?.display_data.hide_footer)?C.viewExperience(1000069,500417):_(!1),c(!0)},[r]);let D=(0,s.useMemo)(()=>({hasMetSaveRequirementOnUseCaseFeed:S,hasSimplifiedPinGridExpLoaded:p,hidePinRepFooter:E,quickSaveBoardId:I,setHasMetSaveRequirementOnUseCaseFeed:T,setUseCaseFeedOriginalPinId:O,setUseCaseFeedRepinId:A,useCaseFeedOriginalPinId:m,useCaseFeedRepinId:y}),[S,p,E,I,T,O,A,m,y]);return(0,d.jsx)(u,{value:D,children:e})}},537391:function(e,t,a){a.d(t,{H:()=>A,g:()=>y});var s=a(667294),r=a(65711),l=a(69406),o=a(684645),n=a(505633),i=a(719301),d=a(457223),u=a(213491),E=a(47755),_=a(935059),p=a(721703),c=a(647587),S=a(785893);let{Provider:T,get:y}=(0,u.Z)("BusinessHierarchyContext"),A=({children:e})=>{let[t,a]=(0,s.useState)([]),[u,y]=(0,s.useState)([]),[A,m]=(0,s.useState)(!1),[O,C]=(0,s.useState)(!1),[R,I]=(0,s.useState)(null),[D,M]=(0,s.useState)(null),[N,g]=(0,s.useState)([]),[f,h]=(0,s.useState)({}),P=(0,c.Z)(),L=(0,s.useRef)(P),b=(0,_.Z)(),v=(0,r.Z)(),U=(0,s.useRef)({}),G=(0,s.useCallback)((e,t)=>{let a;t===l.Oz.BUSINESS_HIERARCHY?a=(0,d.Z)(i.Q6.DASHBOARD,"","",e):t===l.Oz.BUSINESS_ACCOUNT&&(a=(0,d.Z)(i.Q6.DASHBOARD,e));let s=(0,p.Z)({site:"www",path:a});(0,n.Z)(s)},[]),B=b.isAuth,{id:w="",username:x="",email:F="",fullName:H="",imageSmallUrl:Z="",imageMediumUrl:$="",isAuth:k}=b.isAuth?b:{id:"",username:"",email:"",fullName:"",imageSmallUrl:"",imageMediumUrl:""},V=(0,s.useCallback)(async e=>{if(!v)return[];if(C(!0),U.current[e])return C(!1),U.current[e];{let{data:t}=(await (0,E.Z)({url:"/ads/v4/business_access/business_hierarchies",data:{search_by:["FULL_NAME","BUSINESS_ID"],search_value:e}})).resource_response,a=t&&t.map(e=>(e.children&&(e.children=e.children.map(e=>(e.user&&"entity_type"in e.user&&(e.user.entity_type=l.Oz.USER_ACCOUNT),e))),e))||[],s=/^\d+$/.test(e),r=RegExp(e.toLowerCase(),"g"),n=[];D||M(n=await L.current());let i=(D??n).filter(t=>s?t.id.includes(e):t.user.full_name.toLowerCase().match(r)).map(o.IT),d=[...a.map(e=>e.id??""),...i.map(e=>e.id)];return B&&(s?(w||"").includes(e):(H||"").toLowerCase().match(r))&&d.push(w),U.current[e]=d,C(!1),d}},[v,L,B,w,H,D]),j=async(e,t)=>{if((!k||!v||D)&&!e)return;m(!0);let s=[];try{let{data:e}=(await (0,E.Z)({url:"/ads/v4/business_access/business_hierarchies"})).resource_response;s=e&&e.map(e=>(e.children&&(e.children=e.children.map(e=>(e.user&&"entity_type"in e.user&&(e.user.entity_type=l.Oz.USER_ACCOUNT),e))),e))||[],a(s)}catch{a([])}try{let a=[];(!D||e)&&(a=await L.current(),y(a.filter(e=>t&&D&&!D.some(({id:t})=>t===e.id)).map(e=>e.user.full_name)),M(a));let r=e?a:D??a;g(r.map(o.IT)),h(r.reduce((e,t)=>(e[t.id]=t.business_roles||[],e),{})),I((0,o.WP)({id:w,username:x,email:F,fullName:H,imageSmallUrl:Z,imageMediumUrl:$})),U.current[""]=[...s.map(e=>e.id),...r.map(o.IT).map(e=>e.id),w],m(!1)}catch{m(!1)}},z=(0,s.useCallback)(j,[w,x,F,H,Z,$,k,v,D]),W=(0,s.useCallback)(e=>t.some(t=>t.id===e||"children"in t&&t.children.some(t=>t.id===e||t.user.id===e)),[t]),K=(0,s.useCallback)(e=>t.map(e=>"BUSINESS_HIERARCHY"===e.entity_type?e:null).find(t=>!!t&&t.children.some(t=>t.user.id===e)),[t]),q=(0,s.useCallback)(()=>{y([])},[y]),Y=(0,s.useMemo)(()=>({businessHierarchies:[...R?.id&&!W(R.id)?[R]:[],...t,...N.filter(e=>!W(e.id))],switchAccount:G,searchAccounts:V,loadingAccounts:A,isSearchingAccounts:O,fetchData:z,getParentHierarchyForIdIfExists:K,viewerRolesOfEachEmployer:f,tooltipEmployers:u,hideTooltip:q}),[t,G,V,N,A,O,R,z,W,K,f,u,q]);return(0,S.jsx)(T,{value:Y,children:e})}},310008:function(e,t,a){a.d(t,{r:()=>A,Z:()=>y});var s=a(667294),r=a(731517),l=a(822794),o=a(47755),n=a(994193);let i=async(e,t)=>{let{statsLog:a}=(0,n.t)();try{let s=new Date,r=await (0,o.Z)({url:"/ads/v4/business_entities",data:e,method:"POST"}),l=new Date;return a&&(a.success("getMultipleBizEntityProperties",t),a.latency("getMultipleBizEntityProperties",l.getTime()-s.getTime(),t)),r.resource_response.data}catch(e){throw a&&a.failure("getMultipleBizEntityProperties",t),e}},d=async(e,t,a="PUT")=>{let{statsLog:s}=(0,n.t)();try{let r=new Date,l=await (0,o.Z)({url:"/ads/v4/business_entities",data:e,method:a}),n=new Date;return s&&(s.success("setMultipleBizEntityPropertiesFullUpdate",t),s.latency("setMultipleBizEntityPropertiesFullUpdate",n.getTime()-r.getTime(),t)),l.resource_response.data}catch(e){throw s&&s.failure("setMultipleBizEntityPropertiesFullUpdate",t),e}};var u=a(213491),E=a(236269),_=a(935059),p=a(501010),c=a(767415),S=a(785893);let{Provider:T,get:y}=(0,u.Z)("CustomShortcutsContext"),A=({children:e})=>{let t=(0,_.Z)(),a=t.isAuth?t.id:void 0,o=t.isAuth&&t.isPartner,n=t.isAuth&&t.isLimitedLogin,u=(0,p.Z)(),[y,A]=(0,s.useState)({}),m=(0,s.useCallback)(async()=>{let{anyEnabled:e}=u.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context"),t=Object.freeze(["business.pinterest.com","create.pinterest.com","about.pinterest.com","support.pinterest.com","developers.pinterest.com","newsroom.pinterest.com"]).every(e=>!window.location.href?.includes(e));if(a&&o&&!n&&t)try{let t;t=e?i:r.Z;let s=(await t([{entity_id:a,entity_type:"BIZ_USER",property_keys:["NAVBAR_CONFIG"]}]))[0];if(!(s&&s.properties))return;let l=s.properties.NAVBAR_CONFIG;A(l?.customShortcuts||{})}catch(e){(0,c.nP)("pro_partner_header.dynamic_menu.shortcuts.get_error",{sampleRate:1,tags:{entity_id:a,error:(0,E.Z)(e,"message")}})}},[a,o,n,u]),O=(0,s.useCallback)(async e=>{let{anyEnabled:t}=u.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context");if(!a)return(0,c.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:a,error:"Auth_Error"}}),{error:"Auth_Error"};try{let s;s=t?d:l.Z;return await s([{entity_id:a,entity_type:"BIZ_USER",properties:{NAVBAR_CONFIG:{customShortcuts:e}}}]),m(),{error:null}}catch(e){return(0,c.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:a,error:(0,E.Z)(e,"message")}}),{error:"Upsert_Error"}}},[a,u,m]);(0,s.useEffect)(()=>{m()},[m]);let C=(0,s.useMemo)(()=>({shortcuts:y,upsertShortcuts:O}),[y,O]);return(0,S.jsx)(T,{value:C,children:e})}},552841:function(e,t,a){a.d(t,{H7:()=>p,CB:()=>c});var s=a(667294),r=a(213491),l=a(686659),o=a(20256),n=a(681698),i=a(465784),d=a(24246),u=a(785893);let E=({onConfirm:e})=>{(0,s.useEffect)(()=>{(0,l.Z)("EmailVerificationReminderModal","/app/packages/EmailVerificationReminderModal/EmailVerificationReminderModal.tsx")},[]);let t=(0,d.Z)(),[a,r]=(0,s.useState)(!1),E=()=>{r(!0),(0,n.Z)({url:"/v3/users/email/verify/resend/",method:"POST"})};return(0,u.jsx)(i.ZP,{accessibilityModalLabel:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),footer:(0,u.jsxs)(o.kC,{gap:{row:2,column:0},justifyContent:"end",children:[a?(0,u.jsx)(o.zx,{color:"gray",disabled:a,fullWidth:!0,onClick:E,size:"lg",text:t._('Email sent', 'Button text for verification email being sent', 'Button text for verification email being sent')}):(0,u.jsx)(o.zx,{color:"gray",disabled:a,fullWidth:!0,onClick:E,size:"lg",text:t._('Resend email', 'Button text for resending email verification email', 'Button text for resending email verification email')}),(0,u.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:e,size:"lg",text:t._('Got it', 'Button text for acknowledging email verificaiton is required', 'Button text for acknowledging email verificaiton is required')})]}),heading:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),onDismiss:e,role:"alertdialog",children:(0,u.jsx)(o.xu,{padding:8,children:(0,u.jsx)(o.xv,{align:"center",size:"300",children:t._('Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest')})})})},{Provider:_,get:p}=(0,r.Z)("EmailVerificationReminderModal");function c({children:e}){let[t,a]=(0,s.useState)(!1),r=(0,s.useMemo)(()=>({showEmailVerificationReminderModal:()=>{a(!0)}}),[]);return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(_,{value:r,children:e}),t&&(0,u.jsx)(E,{onConfirm:()=>{a(!1)}})]})}},457223:function(e,t,a){a.d(t,{Z:()=>l});let s="/business/business-manager/",r="/business/business-hierarchy/",l=(e,t,a,l)=>{switch(e){case"DASHBOARD":return l?`${r}${String(l)}/dashboard/`:`${s}${String(t)}/dashboard/`;case"MEDIA_NETWORK_DASHBOARD":return`${s}${String(t)}/media-network-hub/dashboard/`;case"PEOPLE":return`${s}${String(t)}/employees/`;case"PARTNERS":return`${s}${String(t)}/partners/`;case"AD_ACCOUNTS":return`${s}${String(t)}/ad-accounts/`;case"HISTORY":return`${s}${String(t)}/history/`;case"PEOPLE_DETAIL":return`${s}${String(t)}/employees/${String(a)}/details/`;case"PARTNERS_DETAIL":return`${s}${String(t)}/partners/${String(a)}/details/`;case"SHARED_PARTNERS_DETAIL":return`${s}${String(t)}/shared/${String(a)}/details/`;case"AD_ACCOUNTS_DETAIL":return`${s}${String(t)}/ad-accounts/${String(a)}/details/`;case"PENDING_AD_ACCOUNTS_DETAIL":return`${s}${String(t)}/ad-accounts/pending/${String(a)}/details/`;case"PEOPLE_PENDING_TAB":return`${s}${String(t)}/employees/pending/`;case"PARTNERS_PENDING_TAB":return`${s}${String(t)}/partners/pending/`;case"AD_ACCOUNTS_PENDING_TAB":return`${s}${String(t)}/ad-accounts/pending`;case"AD_ACCOUNTS_CEE_MIGRATION":return`${s}${String(t)}/ad-accounts/cee-migration`;case"PROFILES":return`${s}${String(t)}/profiles/`;case"PROFILES_DETAIL":return`${s}${String(t)}/profiles/${String(a)}/details/`;case"BUSINESS_SECURITY":return`${s}${String(t)}/security/`;case"ASSET_GROUPS":return a?`${s}${String(t)}/asset-groups/?asset_group_id=${String(a)}`:`${s}${String(t)}/asset-groups/`;case"INVOICE_MANAGEMENT":return`${s}${String(t)}/invoice-management/`;case"BUSINESS_HIERARCHY":return`${r}${String(l)}/hierarchy/`;case"BUSINESS_HIERARCHY_BUSINESS_SECURITY":return`${r}${String(l)}/business_security/`;case"MANAGERS":return`${r}${String(l)}/managers/`;case"AUDIENCES":return`${s}${String(t)}/audiences/`;case"SHARED_TAGS":return`${s}${String(t)}/shared-tags/`;case"CATALOGS":return`${s}${String(t)}/catalogs/`;case"CATALOGS_DETAIL":return`${s}${String(t)}/catalogs/${String(a)}/details/`;case"BRAND_SAFETY":return`${s}${String(t)}/brand-safety/`;case"BUSINESS_SETTINGS":return`${s}${String(t)}/settings/`;case"SYSTEM_USERS":return`${s}${String(t)}/system-users/`;case"APPS":return`${s}${String(t)}/apps/`;case"CONVERSION_DATA":return`${s}${String(t)}/conversion-data/`;default:return s}}},753977:function(e,t,a){a.d(t,{Z:()=>u});var s=a(686659),r=a(667294),l=a(20256),o=a(564377),n=a(577356),i=a(739405),d=a(785893);function u({children:e}){(0,r.useEffect)(()=>{(0,s.Z)("ToastManager","/app/packages/ui/ToastManager.tsx")},[]);let[t,a]=(0,r.useState)([]),u=(0,r.useRef)(0),E=(0,i.ZP)(),_=()=>{let e=u.current;return u.current+=1,`toast${e}`},p=(0,r.useMemo)(()=>({showOneToast:e=>{a([{name:_(),component:e}])},showToast:e=>{a(t=>[...t,{name:_(),component:e}])}}),[a]);return(0,d.jsxs)(n.Zo,{value:p,children:[e,(0,d.jsx)(o.Z,{children:(0,d.jsx)(l.mh,{children:(0,d.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",..."desktop"===E?{bottom:"14px"}:{top:"phone"===E?56:80}}},direction:"column",display:"flex",justifyContent:"center",position:"fixed",width:"100%",zIndex:new l.Ry(1500),children:t.map(({name:e,component:t})=>{if(t)return(0,d.jsx)(t,{hideToast:()=>{a(t=>{let a=[...t],s=a.findIndex(t=>t.name===e);return -1!==s&&a.splice(s,1),a})}},e)})})})})]})}},647587:function(e,t,a){a.d(t,{Z:()=>r});var s=a(681698);function r(){return async()=>{let e=await (0,s.Z)({url:"/ads/v4/business_access/businesses/me/employers/"}),t=e.resource_response?e.resource_response.data:{data:[]};return await Promise.all(t&&t.data||[])}}},160744:function(e,t,a){a.d(t,{$7:()=>y,Ay:()=>n,B1:()=>m,CD:()=>d,Dk:()=>_,Fc:()=>v,Kp:()=>U,NG:()=>D,QM:()=>h,T0:()=>E,TE:()=>T,WF:()=>R,Wm:()=>O,Xm:()=>M,_N:()=>f,d7:()=>o,dt:()=>L,e_:()=>g,i_:()=>I,kY:()=>S,nV:()=>r,pC:()=>i,ph:()=>c,qg:()=>N,sg:()=>p,tZ:()=>l,tw:()=>b,uC:()=>u,uc:()=>C,xl:()=>A,yG:()=>P});var s=a(540015);let r="https://business.pinterest.com/en/pinterest-advertising-services-agreement",l="https://business.pinterest.com/fr/pinterest-advertising-services-agreement",o="https://business.pinterest.com/pt-br/pinterest-advertising-services-agreement",n="https://business.pinterest.com/es/pinterest-advertising-services-agreement/mexico/",i="https://business.pinterest.com/es/pinterest-advertising-services-agreement/argentina/",d="https://business.pinterest.com/es/pinterest-advertising-services-agreement/chile/",u="https://business.pinterest.com/es/pinterest-advertising-services-agreement/colombia/",E="https://business.pinterest.com/ja/pinterest-advertising-services-agreement/",_="https://business.pinterest.com/en-gb/pinterest-advertising-services-agreement",p="https://business.pinterest.com/pinterest-advertising-services-agreement/",c=[1,3],S=[7],T=[34],y=[35],A=[19],m=[36],O=[37],C=[38],R=8,I=9,D=11,M=15,N=16,g=17,f=18,h=19,P=20,L=22,b=23;function v(e,t){let a=I;return c.includes(e)&&!t?a=R:S.includes(e)?a=D:T.includes(e)?a=M:y.includes(e)?a=N:A.includes(e)?a=g:m.includes(e)?a=f:C.includes(e)?a=h:O.includes(e)?a=P:s.f4.includes(e)&&(a=L),a}function U(e){let t=_;return c.includes(e)?t=r:S.includes(e)?t=l:T.includes(e)?t=o:y.includes(e)?t=n:A.includes(e)?t=E:m.includes(e)?t=i:O.includes(e)?t=d:C.includes(e)&&(t=u),t}},662529:function(e,t,a){a.d(t,{a:()=>_,B:()=>u});var s=a(667294),r=a(213491),l=a(681698);let o={boardMap:{}};function n(e,t){if(e=e||o,"BLOCKING_ACTIONS_UPDATED"===t.type){let{payload:{boardId:a,blockingActions:s}}=t,r=null,l=null,o={};return s.forEach(({section_id:e,progress:t,id:a,created_timestamp:s})=>{let n={id:a,createdAt:s,progress:t};e?"-1"===e?r=n:o[e]=n:l=n}),{...e,boardMap:{...e.boardMap,[a]:{wholeBoard:r,unorganized:l,sectionMap:o}}}}return e}var i=a(785893);let{Provider:d,getMaybe:u}=(0,r.Z)("BlockingAction");async function E(e){let t=await (0,l.Z)({url:`/v3/boards/${e}/`,data:{fields:["board.id","board.blocking_actions"]}});return new Promise((e,a)=>{let s=t&&t.resource_response&&t.resource_response.data&&t.resource_response.data.blocking_actions;if(!s)return void a(Error("No blocking actions found in the response"));e(s)})}function _({children:e}){let[t,a]=(0,s.useReducer)(n,o),r=(0,s.useCallback)(e=>E(e).then(t=>(a({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:t}}),t)),[]),l=(0,s.useMemo)(()=>({blockingActions:t,fetchBlockingActions:r}),[t,r]);return(0,i.jsx)(d,{value:l,children:e})}},89446:function(e,t,a){a.d(t,{dd:()=>f,Yi:()=>M,Pf:()=>D,Sx:()=>C,sO:()=>T,MC:()=>m,HU:()=>S,Dw:()=>I,vg:()=>g,nC:()=>O,KJ:()=>y,jn:()=>N,Dl:()=>h,nU:()=>A,Un:()=>R});var s=a(667294),r=a(312048),l=a(213491),o=a(681698),n=a(173874),i=a(501010);let d={payload:{},type:null},u={businessId:"",business:null,managerId:"",manager:null,businessHierarchyId:"",businessHierarchy:null,detailId:"",profile:null,adAccount:null,selectedAudience:null,isActingUserReseller:null,partnerId:"",employeeId:"",intents:d,modal:{modalType:null},lastFetchedBusinessId:"",businessExperiments:{}};function E(e,t){switch(e=e||u,t.type){case"SET_ROUTER_PARAMS":return{...e,businessId:t.payload.businessId??"",detailId:t.payload.detailId??""};case"SET_SELECTED_BUSINESS":return{...e,businessId:t.payload.business?.user.id??"",business:t.payload.business};case"SET_CEE_MIGRATION_INFO":return{...e,ceeMigrationInfo:t.payload.ceeMigrationInfo};case"SET_SELECTED_BUSINESS_HIERARCHY":return{...e,businessHierarchyId:t.payload.businessHierarchy?.id||"",businessHierarchy:t.payload.businessHierarchy};case"SET_SELECTED_ORGANIZATION_MANAGER":return{...e,managerId:t.payload.manager?.user.id??"",manager:t.payload.manager};case"SET_SELECTED_DETAIL":return{...e,detailId:t.payload.detailId??""};case"SET_SELECTED_PROFILE":return{...e,profile:t.payload.profile};case"SET_SELECTED_AD_ACCOUNT":return{...e,adAccount:t.payload.adAccount};case"SET_SELECTED_AUDIENCE":return{...e,selectedAudience:t.payload.audience};case"SET_SELECTED_PARTNER_ID":return{...e,partnerId:t.payload.partnerId};case"SET_SELECTED_EMPLOYEE_ID":return{...e,employeeId:t.payload.employeeId};case"SET_IS_ACTING_USER_RESELLER":return{...e,isActingUserReseller:t.payload.isActingUserReseller};case"SET_LAST_FETCHED_BUSINESS_ID":return{...e,lastFetchedBusinessId:t.payload.businessId};case"SET_BUSINESS_EXPERIMENTS":return{...e,businessExperiments:t.payload.experiments};case"CLEAR_INTENT":case"OPEN_SHEET":return{...e,intents:function(e,t){switch(t.type){case"CLEAR_INTENT":return d;case"OPEN_SHEET":let{type:a,payload:s}=t;return{type:a,payload:s};default:return e}}(e.intents,t)};case"SET_MODAL":case"CLEAR_MODAL":return{...e,modal:function(e,t){switch(t.type){case"SET_MODAL":return t.payload;case"CLEAR_MODAL":return{modalType:null};default:return e}}(e.modal,t)};default:return e}}var _=a(520803),p=a(785893);let{Provider:c,get:S}=(0,l.Z)("BusinessAccess");function T({children:e}){let[t,a]=(0,s.useReducer)(E,u),r=(0,s.useMemo)(()=>({setRouterParams:({detailId:e,businessId:t})=>a({type:"SET_ROUTER_PARAMS",payload:{detailId:e,businessId:t}}),setSelectedBusiness:e=>a({type:"SET_SELECTED_BUSINESS",payload:{business:e}}),setCeeMigrationInfo:e=>a({type:"SET_CEE_MIGRATION_INFO",payload:{ceeMigrationInfo:e}}),setSelectedOrganizationManager:e=>a({type:"SET_SELECTED_ORGANIZATION_MANAGER",payload:{manager:e}}),setSelectedBusinessHierarchy:e=>a({type:"SET_SELECTED_BUSINESS_HIERARCHY",payload:{businessHierarchy:e}}),setSelectedDetail:({detailId:e})=>a({type:"SET_SELECTED_DETAIL",payload:{detailId:e}}),setSelectedProfile:e=>a({type:"SET_SELECTED_PROFILE",payload:{profile:e}}),setSelectedAdAccount:e=>a({type:"SET_SELECTED_AD_ACCOUNT",payload:{adAccount:e}}),setSelectedAudience:e=>a({type:"SET_SELECTED_AUDIENCE",payload:{audience:e}}),setSelectedPartnerId:e=>a({type:"SET_SELECTED_PARTNER_ID",payload:{partnerId:e??""}}),setSelectedEmployeeId:e=>a({type:"SET_SELECTED_EMPLOYEE_ID",payload:{employeeId:e??""}}),setIsActingUserReseller:e=>a({type:"SET_IS_ACTING_USER_RESELLER",payload:{isActingUserReseller:e??!1}}),setLastFetchedBusinessId:e=>a({type:"SET_LAST_FETCHED_BUSINESS_ID",payload:{businessId:e}}),setBusinessExperiments:e=>a({type:"SET_BUSINESS_EXPERIMENTS",payload:{experiments:e}}),clearIntent:()=>a({type:"CLEAR_INTENT"}),openSheet:e=>a({type:"OPEN_SHEET",payload:e}),setAddPeopleModal:()=>a({type:"SET_MODAL",payload:{modalType:"CREATE_PEOPLE"}}),setAddPeopleInviteConfirmationModal:({inviteIds:e,role:t,isPendingTabActive:s})=>a({type:"SET_MODAL",payload:{modalType:"CREATE_PEOPLE_INVITE_CONFIRMATION",modalProps:{inviteIds:e,role:t,isPendingTabActive:s}}}),setAddPeopleInviteWithAssetsConfirmationModal:({inviteIds:e,invitedPeopleIdentifiers:t})=>a({type:"SET_MODAL",payload:{modalType:"CREATE_PEOPLE_INVITE_WITH_ASSETS_CONFIRMATION",modalProps:{inviteIds:e,invitedPeopleIdentifiers:t}}}),setAddPartnerInviteConfirmationModal:({selectedId:e,role:t,inviteId:s,isReseller:r})=>a({type:"SET_MODAL",payload:{modalType:"CREATE_PARTNER_INVITE_CONFIRMATION",modalProps:{selectedId:e,role:t,inviteId:s,isReseller:r}}}),setRemovePersonModal:e=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_PERSON",modalProps:e}}),setRemoveProfilePermissionsModal:({userData:e,selectionType:t,profileId:s,profileName:r,dataToRefresh:l,refreshData:o})=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_PROFILE_PERMISSIONS",modalProps:{userData:e,selectionType:t,profileId:s,profileName:r,dataToRefresh:l,refreshData:o}}}),setEditPersonRoleModal:e=>a({type:"SET_MODAL",payload:{modalType:"EDIT_PERSON_ROLE",modalProps:e}}),setInviteRequestPartnerModal:e=>a({type:"SET_MODAL",payload:{modalType:"INVITE_REQUEST_PARTNER",modalProps:{partnershipType:e?.partnershipType,pageForLogger:e?.pageForLogger}}}),setRequestPartnerConfirmationModal:({partnerId:e,role:t,requestId:s})=>a({type:"SET_MODAL",payload:{modalType:"CREATE_PARTNER_REQUEST_CONFIRMATION",modalProps:{partnerId:e,role:t,requestId:s}}}),setRequestPartnerConfirmationSuccessModal:({requestId:e})=>a({type:"SET_MODAL",payload:{modalType:"CREATE_PARTNER_REQUEST_CONFIRMATION_SUCCESS",modalProps:{requestId:e}}}),setRemoveChildBusinessModal:()=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_CHILD_BUSINESS"}}),setRemoveOrganizationManagerModal:()=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_ORGANIZATION_MANAGER"}}),setRemovePartnerModal:e=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_PARTNER",modalProps:{...e}}}),setRemoveSelfEmployeeModal:e=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_SELF_EMPLOYEE",modalProps:{...e}}}),setRemoveSharedPartnerModal:e=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_SHARED_PARTNER",modalProps:{...e}}}),setRemoveSharedAdAccountModal:e=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_SHARED_AD_ACCOUNT",modalProps:{...e}}}),setCreateAdAccountModal:()=>a({type:"SET_MODAL",payload:{modalType:"CREATE_AD_ACCOUNT"}}),setCreateAdAccountConfirmationModal:({ownerInfo:e,accountInfo:t,refreshData:s})=>a({type:"SET_MODAL",payload:{modalType:"CREATE_AD_ACCOUNT_CONFIRMATION",modalProps:{accountInfo:t,ownerInfo:e,refreshData:s}}}),setAssignAdAccountsModal:({selectedIds:e,selectionType:t,dataToRefresh:s,assignmentType:r,inviteIds:l,peopleIdentifiers:o,roleType:n,showProfiles:i,resellerUserId:d})=>a({type:"SET_MODAL",payload:{modalType:"ASSIGN_AD_ACCOUNTS",modalProps:{selectedIds:e,selectionType:t,dataToRefresh:s,assignmentType:r,peopleIdentifiers:o,inviteIds:l,roleType:n,showProfiles:i,resellerUserId:d}}}),setRequestAdAccountsModal:({requestId:e,partnerId:t})=>a({type:"SET_MODAL",payload:{modalType:"REQUEST_AD_ACCOUNTS",modalProps:{requestId:e,partnerId:t}}}),setRequestAdAccountsGeneralModal:({partner:e,adAccountsRequested:t})=>a({type:"SET_MODAL",payload:{modalType:"REQUEST_AD_ACCOUNTS_GENERAL",modalProps:{partner:e,adAccountsRequested:t}}}),setEditAdAccountAccessModal:({resourceId:e,principalId:t,dataToRefresh:s,assignmentType:r,rolesForAoaa:l,clientBusinessId:o})=>a({type:"SET_MODAL",payload:{modalType:"EDIT_AD_ACCOUNT_ACCESS",modalProps:{resourceId:e,principalId:t,dataToRefresh:s,assignmentType:r,rolesForAoaa:l,clientBusinessId:o}}}),setRemoveAdAccountAccessModal:({resourceId:e,principalId:t,dataToRefresh:s,assignmentType:r,resourceType:l})=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_AD_ACCOUNT_ACCESS",modalProps:{resourceId:e,principalId:t,dataToRefresh:s,assignmentType:r,resourceType:l}}}),setOnboardingModal:({onComplete:e,onDismiss:t})=>a({type:"SET_MODAL",payload:{modalType:"ONBOARDING",modalProps:{onComplete:e,onDismiss:t}}}),setSwitchAdAccountModal:({id:e,name:t,owner_user_id:s,merchant_id:r})=>a({type:"SET_MODAL",payload:{modalType:"SWITCH_AD_ACCOUNT",modalProps:{id:e,name:t,owner_user_id:s,merchant_id:r}}}),setAssignProfilesModal:({selectedIds:e,selectionType:t,dataToRefresh:s,assignmentType:r,refreshData:l})=>a({type:"SET_MODAL",payload:{modalType:"ASSIGN_PROFILES",modalProps:{selectedIds:e,selectionType:t,dataToRefresh:s,assignmentType:r,refreshData:l}}}),setAssignAudiencesModal:({accountTypeSelected:e,displayedAccountType:t,forPartner:s,handleModalDismiss:r,isAudienceOwner:l,audienceAssignmentType:o})=>a({type:"SET_MODAL",payload:{modalType:"ASSIGN_AUDIENCES",modalProps:{accountTypeSelected:e,displayedAccountType:t,forPartner:s,handleModalDismiss:r,isAudienceOwner:l,audienceAssignmentType:o}}}),setAssignAssetsModal:({selectedIds:e,inviteId:t,dataToRefresh:s})=>a({type:"SET_MODAL",payload:{modalType:"ASSIGN_ASSETS",modalProps:{selectedIds:e,inviteId:t,dataToRefresh:s}}}),setRequestProfileAccessModal:({requestId:e,requesteeId:t,profilePermissions:s})=>a({type:"SET_MODAL",payload:{modalType:"REQUEST_PROFILE_ACCESS",modalProps:{requestId:e,requesteeId:t,profilePermissions:s}}}),setRequestCatalogAccessModal:({requestId:e})=>a({type:"SET_MODAL",payload:{modalType:"REQUEST_CATALOG_ACCESS",modalProps:{requestId:e}}}),setRequestProfileAccessGeneralModal:()=>a({type:"SET_MODAL",payload:{modalType:"REQUEST_PROFILE_ACCESS_GENERAL"}}),setAssetGroupsFormModal:e=>a({type:"SET_MODAL",payload:{modalType:"ASSET_GROUPS_FORM",modalProps:e}}),setShareTagModal:e=>a({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_FORM",modalProps:e}}),setShareTagSummaryModal:e=>a({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_SUMMARY_FORM",modalProps:e}}),setShareTagLegalModal:e=>a({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_LEGAL_FORM",modalProps:e}}),setTagGetStartedModal:e=>a({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_GET_STARTED_FORM",modalProps:e}}),setDeleteAssetGroupConfirmationModal:e=>a({type:"SET_MODAL",payload:{modalType:"DELETE_ASSET_GROUP_CONFIRMATION",modalProps:e}}),setAOAAPermissionAssignmentModal:({partnerBusinessInfo:e,ownerInfo:t,accountInfo:s})=>a({type:"SET_MODAL",payload:{modalType:"AOAA_PERMISSION_ASSIGNMENT",modalProps:{partnerBusinessInfo:e,ownerInfo:t,accountInfo:s}}}),setUnsavedPermissionsConfirmationModal:({partnerBusinessInfo:e,ownerInfo:t,accountInfo:s})=>a({type:"SET_MODAL",payload:{modalType:"UNSAVED_PERMISSIONS_CONFIRMATION",modalProps:{partnerBusinessInfo:e,ownerInfo:t,accountInfo:s}}}),setAOAARequestCreationSuccessModal:({partnerBusinessInfo:e,ownerInfo:t,businessIdToPermissions:s})=>a({type:"SET_MODAL",payload:{modalType:"AOAA_REQUEST_CREATION_SUCCESS",modalProps:{partnerBusinessInfo:e,ownerInfo:t,businessIdToPermissions:s}}}),setAddAssetOrUserToAssetGroup:({assetOrMemberType:e,assetGroupInfo:t})=>a({type:"SET_MODAL",payload:{modalType:"ADD_ASSET_OR_USER_TO_ASSET_GROUP",modalProps:{assetOrMemberType:e,assetGroupInfo:t}}}),setAddUserToAssetGroupConfirmation:e=>a({type:"SET_MODAL",payload:{modalType:"ADD_USER_TO_ASSET_GROUP_CONFIRMATION",modalProps:e}}),setRemoveAssetOrUserFromAssetGroup:({assetOrMemberType:e,toRemove:t})=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_ASSET_OR_USER_TO_ASSET_GROUP",modalProps:{assetOrMemberType:e,toRemove:t}}}),setRemoveSystemUserFromApp:({toRemove:e})=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_SYSTEM_USER_FROM_APP",modalProps:{toRemove:e}}}),setRemoveAssetFromTag:({assetOrMemberType:e,toRemove:t})=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_ASSET_FROM_TAG",modalProps:{assetOrMemberType:e,toRemove:t}}}),setAddOrganizationManagersModal:e=>a({type:"SET_MODAL",payload:{modalType:"ADD_ORGANIZATION_MANAGERS",modalProps:{...e}}}),setAddOrganizationManagersConfirmationModal:e=>a({type:"SET_MODAL",payload:{modalType:"ADD_ORGANIZATION_MANAGERS_CONFIRMATION",modalProps:{...e}}}),setEditBusinessDetailsModal:e=>a({type:"SET_MODAL",payload:{modalType:"EDIT_BUSINESS_DETAILS",modalProps:e}}),setViewBusinessDetailsModal:e=>a({type:"SET_MODAL",payload:{modalType:"VIEW_BUSINESS_DETAILS",modalProps:e}}),setAddChildBusinessesModal:e=>a({type:"SET_MODAL",payload:{modalType:"ADD_CHILD_BUSINESSES",modalProps:{...e}}}),setAddChildBusinessesConfirmationModal:e=>a({type:"SET_MODAL",payload:{modalType:"ADD_CHILD_BUSINESSES_CONFIRMATION",modalProps:e}}),setSelectAdAccountToShareFromModal:()=>a({type:"SET_MODAL",payload:{modalType:"SELECT_AD_ACCOUNT_TO_SHARE_FROM"}}),setAddAdAccountModal:()=>a({type:"SET_MODAL",payload:{modalType:"ADD_AD_ACCOUNT"}}),setRequiredRMAAInformationModal:e=>a({type:"SET_MODAL",payload:{modalType:"ADD_REQUIRED_RMAA_INFORMATION",modalProps:e}}),setRMAAUncompleteModal:e=>a({type:"SET_MODAL",payload:{modalType:"RMAA_UNCOMPLETE_MODAL",modalProps:e}}),setSavedRMAAInformationSuccessModal:e=>a({type:"SET_MODAL",payload:{modalType:"SAVED_RMAA_INFORMATION_SUCCESS",modalProps:e}}),setConfirmAssetAccessRequestModal:e=>a({type:"SET_MODAL",payload:{modalType:"CONFIRM_ASSET_ACCESS_REQUEST",modalProps:e}}),setCreateBusinessHierarchyModal:e=>{a({type:"SET_MODAL",payload:{modalType:"CREATE_BUSINESS_HIERARCHY",modalProps:e}})},setUploadBusinessHierarchyAvatarImageModal:e=>{a({type:"SET_MODAL",payload:{modalType:"UPLOAD_BUSINESS_HIERARCHY_AVATAR_IMAGE",modalProps:e}})},setBusinessHierarchyCreationSuccessModal:e=>{a({type:"SET_MODAL",payload:{modalType:"BUSINESS_HIERARCHY_CREATION_SUCCESS",modalProps:e}})},setAssignCatalogModal:e=>{a({type:"SET_MODAL",payload:{modalType:"ASSIGN_CATALOG",modalProps:{...e}}})},setRemoveDefaultUtmsConfirmation:e=>{a({type:"SET_MODAL",payload:{modalType:"REMOVE_DEFAULT_UTMS_CONFIRMATION",modalProps:{...e}}})},setCeeMigrationBusinessInformationModal:e=>{a({type:"SET_MODAL",payload:{modalType:"CEE_MIGRATION_BUSINESS_INFORMATION_MODAL",modalProps:e}})},setResellerInviteSentSuccessfulModal:e=>{a({type:"SET_MODAL",payload:{modalType:"RESELLER_INVITE_SENT_SUCCESSFUL_MODAL",modalProps:e}})},setResellerInviteAcceptedSuccessfulModal:e=>{a({type:"SET_MODAL",payload:{modalType:"RESELLER_INVITE_ACCEPTED_SUCCESSFUL_MODAL",modalProps:e}})},setAddCatalogModal:()=>{a({type:"SET_MODAL",payload:{modalType:"ADD_CATALOG"}})},setRequestCatalogsGeneralModal:e=>{a({type:"SET_MODAL",payload:{modalType:"REQUEST_CATALOGS_GENERAL",modalProps:{...e}}})},setRequestCatalogsModal:e=>{a({type:"SET_MODAL",payload:{modalType:"REQUEST_CATALOGS",modalProps:{...e}}})},setAppSecretKeyModal:e=>{a({type:"SET_MODAL",payload:{modalType:"APP_SECRET_KEY_RESET",modalProps:e}})},setAddEditDomainRestrictionsModal:e=>{a({type:"SET_MODAL",payload:{modalType:"ADD_EDIT_DOMAIN_RESTRICTIONS",modalProps:e}})},setRevokeConversionSegmentAccessModal:e=>a({type:"SET_MODAL",payload:{modalType:"REVOKE_CONVERSION_SEGMENT_ACCESS",modalProps:e}}),setRemoveConversionSegmentModal:e=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_CONVERSION_SEGMENT",modalProps:e}}),setDeleteConversionSegmentModal:e=>a({type:"SET_MODAL",payload:{modalType:"DELETE_CONVERSION_SEGMENT",modalProps:e}}),setAssignAdAccountToConversionSegmentModal:e=>a({type:"SET_MODAL",payload:{modalType:"ASSIGN_AD_ACCOUNT_TO_CONVERSION_SEGMENT",modalProps:e}}),setRemoveConversionDataModal:e=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_CONVERSION_DATA",modalProps:e}}),setRevokeCatalogAccessModal:({data:e,refreshData:t,source:s})=>a({type:"SET_MODAL",payload:{modalType:"REVOKE_CATALOG_ACCESS",modalProps:{data:e,refreshData:t,source:s}}}),clearModal:()=>a({type:"CLEAR_MODAL"})}),[]),l=(0,s.useMemo)(()=>({businessAccess:t,...r}),[t,r]);return(0,p.jsx)(c,{value:l,children:e})}function y(e=!1){let{checkExperiment:t}=(0,i.Z)(),a=(0,r.TH)(),{anyEnabled:s}=t("web_business_access_table_reload_fix"),{anyEnabled:l}=t("web_m10n_business_hierarchy_beta"),{businessAccess:{businessId:o}}=S(),{params:{userBizId:d}}=(0,_.Z)();return l&&e&&(0,n.dK)(a)?o:s?d??"":o}function A(e=!1){let{checkExperiment:t}=(0,i.Z)(),a=(0,r.TH)(),{anyEnabled:s}=t("web_business_access_table_reload_fix"),{anyEnabled:l}=t("web_m10n_business_hierarchy_beta"),{businessAccess:{detailId:o}}=S(),{params:{detailId:d}}=(0,_.Z)();return l&&e&&(0,n.dK)(a)?o:s?d??"":o}function m(){let{checkExperiment:e}=(0,i.Z)(),{anyEnabled:t}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{business:a}}=S();return t?a:null}function O(){let{businessAccess:{businessHierarchy:e}}=S();return e}function C(){let{checkExperiment:e}=(0,i.Z)(),{anyEnabled:t}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{manager:a}}=S();return t?a:null}function R(){let{checkExperiment:e}=(0,i.Z)(),{anyEnabled:t}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{profile:a}}=S();return t?a:null}function I(){let{checkExperiment:e}=(0,i.Z)(),{anyEnabled:t}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{adAccount:a}}=S();return t?a:null}function D(){let{businessAccess:{selectedAudience:e}}=S();return e}function M(){let{businessAccess:{partnerId:e}}=S();return e}function N(){let{checkExperiment:e}=(0,i.Z)(),{anyEnabled:t}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{employeeId:a}}=S();return t?a:""}function g(){let{businessAccess:{intents:e}}=S();return e}function f(){let{businessAccess:{modal:e}}=S();return e}async function h(e,t){let a={};try{let t=await (0,o.Z)({url:`ads/v4/business_access/businesses/${e}/experiments`,method:"GET"});a=(t.resource_response?.data).data}catch(e){}return t(a),a}},271875:function(e,t,a){a.d(t,{Z:()=>l,k:()=>s});let{Provider:s,get:r}=(0,a(213491).Z)("Conversations"),l=r},639008:function(e,t,a){a.d(t,{R:()=>E,U:()=>u});var s=a(667294),r=a(213491),l=a(681698);let o={modalOpen:!1,modalTitle:"",isSubmitting:!1,submissionComplete:!1,submissionFailure:"",actionFrom:"",prompt:"",nextPageToRedirect:""},n=(e,t)=>{switch(e=e||o,t.type){case"SHOW_IN_SITE_FEEDBACK_MODAL":return{...e,modalOpen:!0,modalTitle:t.payload.title??"",actionFrom:t.payload.actionFrom??"",nextPageToRedirect:t.payload.nextPageToRedirect??"",prompt:t.payload.prompt??""};case"REMOVE_IN_SITE_FEEDBACK_MODAL":return{...e,modalOpen:!1,modalTitle:"",isSubmitting:!1,submissionComplete:!1,submissionFailure:""};case"IN_SITE_FEEDBACK_STARTED_STARTED":return{...e,isSubmitting:!0,submissionComplete:!1,submissionFailure:""};case"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED":return{...e,isSubmitting:!1,submissionComplete:!0,submissionFailure:""};case"IN_SITE_FEEDBACK_SUBMIT_FAILED":return{...e,isSubmitting:!1,submissionComplete:!1,submissionFailure:t.payload.error};default:return e}};var i=a(785893);let{Provider:d,get:u}=(0,r.Z)("InSiteFeedback");function E({children:e}){let[t,a]=(0,s.useReducer)(n,o),r=(0,s.useCallback)((e,t,s,r)=>a({type:"SHOW_IN_SITE_FEEDBACK_MODAL",payload:{title:t,prompt:s,actionFrom:e,nextPageToRedirect:r}}),[]),u=(0,s.useCallback)(()=>a({type:"REMOVE_IN_SITE_FEEDBACK_MODAL",payload:{}}),[]),E=(0,s.useCallback)(()=>a({type:"IN_SITE_FEEDBACK_STARTED_STARTED",payload:{}}),[]),_=(0,s.useCallback)(()=>a({type:"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED",payload:{}}),[]),p=(0,s.useCallback)(e=>a({type:"IN_SITE_FEEDBACK_SUBMIT_FAILED",payload:{error:e}}),[]),c=(0,s.useCallback)(e=>{if(a({type:"IN_SITE_FEEDBACK_STARTED_STARTED",payload:{}}),!e.verbatim_text||0===e.verbatim_text.trim().length)return void a({type:"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED",payload:{}});(0,l.Z)({url:"/v3/analytics/feedback/",method:"POST",data:{feedback_data:JSON.stringify(e)}}).then(()=>{a({type:"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED",payload:{}})}).catch(e=>{a({type:"IN_SITE_FEEDBACK_SUBMIT_FAILED",payload:{error:e.message}})})},[]),S=(0,s.useMemo)(()=>({inSiteFeedback:t,showInSiteFeedbackModal:r,removeInSiteFeedbackModal:u,submitInSiteFeedbackStarted:E,inSiteFeedbackSubmitSucceeded:_,inSiteFeedbackSubmitFailed:p,submitInSiteFeedback:c}),[t,r,u,E,_,p,c]);return(0,i.jsx)(d,{value:S,children:e})}},362786:function(e,t,a){a.d(t,{P:()=>_,u:()=>E});var s=a(667294),r=a(213491);let l={fullName:"",email:"",phoneNumber:"",zipCode:"",formSubmissions:{}};function o(e,t){switch(e=e||l,t.type){case"AUTOFILL_LEADGEN_USER_INFO":return{...e,fullName:t.payload.fullName,email:t.payload.email};case"SET_LEADGEN_USER_INFO":return{...e,formSubmissions:t.payload.formSubmissions};default:return e}}var n=a(774838),i=a(661376),d=a(785893);let{Provider:u,get:E}=(0,r.Z)("LeadGen");function _({children:e}){let{isLoaded:t,data:a}=(()=>{let{isAuthenticated:e}=(0,n.B)();return(0,i.Z)(e?{name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:["user.full_name","user.email","user.is_name_eligible_for_lead_form_autofill","user.is_email_eligible_for_lead_form_autofill"]}}}:null)})(),[r,E]=(0,s.useReducer)(o,l),_=(0,s.useCallback)(e=>E({type:"SET_LEADGEN_USER_INFO",payload:e}),[]);(0,s.useEffect)(()=>{t&&E({type:"AUTOFILL_LEADGEN_USER_INFO",payload:{...l,fullName:a?.is_name_eligible_for_lead_form_autofill?a.full_name:"",email:a?.is_email_eligible_for_lead_form_autofill?a.email:""}})},[t,a]);let p=(0,s.useMemo)(()=>({updateLeadGenInfo:_,leadGen:r}),[_,r]);return(0,d.jsx)(u,{value:p,children:e})}},187580:function(e,t,a){a.d(t,{Z:()=>x});var s=a(686659),r=a(667294),l=a(548777),o=a(800287),n=a(537391),i=a(310008),d=a(552841),u=a(501010),E=a(281213),_=a(720414),p=a(662529),c=a(89446),S=a(27399),T=a(236269),y=a(57887),A=a(730056);let m=(e,t)=>e.data[t]&&e.data[t].messages||[];function O(e,t){let a=new Map;for(let s of e){if(!s)continue;let e=t(s);if(a.has(e)){let t=(0,A.Z)(a.get(e),s);a.set(e,t)}else a.set(e,s)}return[...a.values()]}function C(e){return[...e].sort((e,t)=>new Date(e.created_ms||e.created_at).getTime()-new Date(t.created_ms||t.created_at).getTime())}function R(e,t,a){return C(O(m(e,t).concat(a),e=>e.id))}let I={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function D(e,t){if(e=e||I,"CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!!t.payload.contactRequestId,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){let{id:a}=t.payload;return{...e,data:{...e.data,[a]:{...e.data[a]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){let a={...e,data:{...e.data}},{id:s}=t.payload;return delete a.data[s],a}if("FETCH_COMPLETE"===t.type){let{options:a,resource:s,response:r}=t.payload,l=r.resource_response.data;if("ConversationMessagesResource"===s){let t=l||[],s=a?.conversation_id||"",r=R(e,s,t),o=r[r.length-1];return{...e,data:{...e.data,[s]:{...e.data[s],id:s,messages:r,unread:0,last_message:o}}}}if("ConversationsResource"===s){let t=l||[],a={...e,data:{...e.data}};return t.forEach(e=>{let{id:t,created_at:s,name:r,board:l,emails:o,unread:n,users:i,last_message:d}=e,u=R(a,t,[d]);a.data[t]={...a.data[t],id:t,created_at:s,name:r,board:l,emails:o||[],unread:n||0,users:i||[],last_message:d,messages:u}}),a}if("ConversationResource"===s||"ApiResource"===s&&a.url===`/v3/conversations/${a.data?.conversation_id}/`){let t=l||{},{id:a}=t,s={...e,data:{...e.data}};return a&&(s.data[a]={...s.data[a],...t}),s}if("NewsHubBadgeResource"===s&&l){let t=l.conversations_unseen_count||0;return{...e,unread:t}}}else if("MESSAGE_SEND_PENDING"===t.type){let{id:a,message:s}=t.payload;if(e.data[a])return{...e,data:{...e.data,[a]:{...e.data[a],id:a,messages:[...e.data[a].messages,s]}}}}else if("MESSAGE_SEND_PENDING_SUCCESS"===t.type){let{id:a,tempMessage:s,newMessage:r}=t.payload;if(e.data[a]&&m(e,a).find(e=>e.id===s.id&&e.created_ms===s.created_ms)){let t=C(O(m(e,a).filter(e=>e.id!==s.id).concat([r]),e=>e.id));return{...e,data:{...e.data,[a]:{...e.data[a],last_message:r,messages:t}}}}}else if("MESSAGE_SEND_PENDING_FAILURE"===t.type){let{id:a,tempMessageId:s}=t.payload;if(e.data[a]){let t=m(e,a).filter(e=>e.id!==s);return{...e,data:{...e.data,[a]:{...e.data[a],messages:t}}}}}else if("MESSAGE_DELETE"===t.type){let{id:a,messageId:s}=t.payload;if(e.data[a]){let t=m(e,a).map(e=>e.id===s?{...e,deleted_by:2}:e);return{...e,data:{...e.data,[a]:{...e.data[a],messages:t}}}}}else if("OPEN_NEW_MESSAGE"===t.type){let{objectAttachment:a}=t.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:a}}else if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};else if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};else if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};else if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload};else if("CLEAR_MESSAGE_BADGE"===t.type){let{id:a}=t.payload;return{...e,data:{...e.data,[a]:{...e.data[a],unread:0}}}}else if("CONVERSATION_SAVE_POSITION"===t.type){let{id:a,position:s}=t.payload;return{...e,data:{...e.data,[a]:{...e.data[a],position:s}}}}else if("CONVERSATION_RESET_POSITION"===t.type){let{id:a}=t.payload;return{...e,data:{...e.data,[a]:{...e.data[a],position:null}}}}else if("SET_OBJECT_ATTACHMENT"===t.type){let{objectAttachment:a}=t.payload;return{...e,objectAttachment:a}}else if("REMOVE_OBJECT_ATTACHMENT"===t.type)return{...e,objectAttachment:null};return e}var M=a(271875),N=a(785893);function g({children:e}){(0,r.useEffect)(()=>{(0,s.Z)("ConversationsContext","/app/www/ConversationsContext/ConversationsContext.tsx")},[]);let[t,a]=(0,r.useReducer)(D,I),l=(0,r.useCallback)(e=>a({type:"FETCH_COMPLETE",payload:e}),[]);(0,y.Z8)("ConversationMessagesResource",l),(0,y.my)("ConversationMessagesResource",l),(0,y.Z8)("ConversationsResource",l),(0,y.Z8)("ConversationResource",l),(0,y.Z8)("NewsHubBadgeResource",l),(0,y.Z8)("ApiResource",l);let o=(0,r.useCallback)((e,t=!1,s="")=>a({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:s}}),[]),n=(0,r.useCallback)((e,t="",s=!1)=>a({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:s}}),[]),i=(0,r.useCallback)(e=>a({type:"CONVERSATION_CREATE",payload:e}),[]),d=(0,r.useCallback)(e=>a({type:"CONVERSATION_DELETE",payload:{id:e}}),[]),u=(0,r.useCallback)((e,t)=>a({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:t}}),[]),E=(0,r.useCallback)(e=>a({type:"CONVERSATION_RESET_POSITION",payload:{id:e}}),[]),_=(0,r.useCallback)((e,t,s)=>{S.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then(e=>{a({type:"CONVERSATION_OPEN",payload:{id:(e&&e.resource_response.data).id}})}).catch(e=>{s((0,T.Z)(e,"message_detail")||(0,T.Z)(e,"message")||"")})},[]),p=(0,r.useCallback)(()=>{a({type:"CLOSE_DROPDOWN"})},[]),c=(0,r.useCallback)(()=>{a({type:"OPEN_DROPDOWN"})},[]),A=(0,r.useCallback)(e=>{a({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})},[]),m=(0,r.useCallback)((e,t)=>a({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}),[]),O=(0,r.useCallback)((e,t,s)=>a({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:t,newMessage:s}}),[]),C=(0,r.useCallback)((e,t)=>a({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:t}}),[]),R=(0,r.useCallback)((e,t)=>a({type:"MESSAGE_DELETE",payload:{id:e,messageId:t}}),[]),g=(0,r.useCallback)(e=>a({type:"UPDATE_NEWSHUB_COUNT",payload:e}),[]),f=(0,r.useCallback)(e=>a({type:"UPDATE_UNREAD_COUNT",payload:e}),[]),h=(0,r.useCallback)(e=>a({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}}),[]),P=(0,r.useCallback)(e=>a({type:"SET_OBJECT_ATTACHMENT",payload:{objectAttachment:e}}),[]),L=(0,r.useCallback)(()=>a({type:"REMOVE_OBJECT_ATTACHMENT"}),[]),b=(0,r.useMemo)(()=>({clearMessageBadge:h,conversationOpen:o,conversationClose:n,conversationCreate:i,conversationDelete:d,conversationGet:_,saveConversationPosition:u,resetConversationPosition:E,dropdownClose:p,dropdownOpen:c,newMessageOpen:A,pendingMessageSend:m,pendingMessageSuccess:O,pendingMessageFailure:C,deleteMessage:R,updateNewsHubCount:g,updateUnreadCount:f,conversations:t,setObjectAttachment:P,removeObjectAttachment:L}),[h,o,n,i,d,_,u,E,p,c,A,m,O,C,R,g,f,t,P,L]);return(0,N.jsx)(M.k,{value:b,children:e})}var f=a(827371);function h({children:e}){(0,r.useEffect)(()=>{(0,s.Z)("EducationProvider","/app/www/Education/EducationProvider.tsx")},[]);let[t,a]=(0,r.useState)(null),l=(0,r.useMemo)(()=>[t,a],[t]);return(0,N.jsx)(f.Z,{value:l,children:e})}var P=a(639008),L=a(362786),b=a(20717),v=a(490515),U=a(329577),G=a(485633),B=a(272873),w=a(985543);function x({children:e}){(0,r.useEffect)(()=>{(0,s.Z)("AuthDesktopProviders","/app/www/PageWrapper/AuthDesktopProviders.tsx")},[]);let t=(0,u.Z)().checkExperiment("aid_exp_move_custom_shortcuts_context_provider").anyEnabled?r.Fragment:i.r;return(0,N.jsx)(g,{children:(0,N.jsx)(E.W,{children:(0,N.jsx)(G.l,{children:(0,N.jsx)(h,{children:(0,N.jsx)(w.X,{children:(0,N.jsx)(L.P,{children:(0,N.jsx)(B.j,{children:(0,N.jsx)(P.R,{children:(0,N.jsx)(d.CB,{children:(0,N.jsx)(c.sO,{children:(0,N.jsx)(o.FE,{children:(0,N.jsx)(n.H,{children:(0,N.jsx)(t,{children:(0,N.jsx)(U.yh,{children:(0,N.jsx)(l.r,{children:(0,N.jsx)(v.C,{children:(0,N.jsx)(p.a,{children:(0,N.jsx)(b.xM,{children:(0,N.jsx)(_.i,{children:e})})})})})})})})})})})})})})})})})})})}},485633:function(e,t,a){a.d(t,{l:()=>u,o:()=>d});var s=a(667294),r=a(213491),l=a(57887);function o(e,t){if(e=e||{},"SUGGESTIONS_FETCH_COMPLETE"===t.type){let{payload:a}=t;if("ShareSuggestionsResource"===a.resource){let s=t.payload.response.resource_response.data||[],{term:r=""}=a.options??{};return{...e,[r]:s}}if("ShareSuggestionsTypeaheadResource"===a.resource){let s=(t.payload.response.resource_response.data||{}).items||[],{term:r=""}=a.options??{};return{...e,[r]:s}}}return e}var n=a(785893);let{Provider:i,get:d}=(0,r.Z)("ShareSuggestions");function u({children:e}){let[t,a]=(0,s.useReducer)(o,{}),r=e=>{a({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};(0,l.Z8)("ShareSuggestionsResource",r),(0,l.Z8)("ShareSuggestionsTypeaheadResource",r);let d=(0,s.useMemo)(()=>({shareSuggestions:t}),[t]);return(0,n.jsx)(i,{value:d,children:e})}},272873:function(e,t,a){a.d(t,{l:()=>d,j:()=>u});var s=a(667294),r=a(213491);let l={currentPinDraftId:null,mostRecentTaggedObjectId:null,selectedStlItemId:null,stlCallout:{showCallout:!1},stlTaggedCoords:null,stlHoveredTaggedObjectId:null},o=(e,t)=>{switch(e=e||l,t.type){case"STL_SELECT":return{...e,selectedStlItemId:t.payload.selectedStlItemId};case"STL_SHEET":return{...e,currentPinDraftId:t.payload.currentPinDraftId};case"STL_TAGGED_PIN":return{...e,stlTaggedCoords:t.payload.stlTaggedCoords};case"STL_ERROR_STATE":return{...e,stlCallout:{showCallout:t.payload.stlCallout.showCallout,type:t.payload.stlCallout.type}};case"STL_MOST_RECENT_TAGGED_OBJECT_ID":return{...e,mostRecentTaggedObjectId:t.payload.mostRecentTaggedObjectId};case"SET_STL_HOVERED_TAGGED_OBJECT_ID":return{...e,stlHoveredTaggedObjectId:t.payload.stlHoveredTaggedObjectId};default:return e}};var n=a(785893);let{Provider:i,get:d}=(0,r.Z)("ShopTheLook");function u({children:e}){let[t,a]=(0,s.useReducer)(o,l),r=(0,s.useMemo)(()=>({shopTheLook:t,setStlSelection:e=>{a({type:"STL_SELECT",payload:{selectedStlItemId:e}})},setCurrentPinDraftId:e=>{a({type:"STL_SHEET",payload:{currentPinDraftId:e}})},setStlTaggedCoord:e=>{a({type:"STL_TAGGED_PIN",payload:{stlTaggedCoords:e}})},setStlCallout:({showCallout:e,type:t})=>{a({type:"STL_ERROR_STATE",payload:{stlCallout:{showCallout:e,type:t}}})},setMostRecentTaggedObjectId:e=>{a({type:"STL_MOST_RECENT_TAGGED_OBJECT_ID",payload:{mostRecentTaggedObjectId:e}})},setStlHoveredTaggedObjectId:e=>{a({type:"SET_STL_HOVERED_TAGGED_OBJECT_ID",payload:{stlHoveredTaggedObjectId:e}})}}),[t]);return(0,n.jsx)(i,{value:r,children:e})}},985543:function(e,t,a){a.d(t,{X:()=>u,Z:()=>d});var s=a(667294),r=a(213491),l=a(566431);function o(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,auxData:t.payload.auxData,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,parentId:t.payload.parentId,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type,isThirdPartyAd:t.payload.isThirdPartyAd,nodeId:t.payload.nodeId};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var n=a(785893);let{Provider:i,get:d}=(0,r.Z)("ReportData");function u({children:e}){let[t,a]=(0,s.useReducer)(o,null),r=(0,s.useCallback)(()=>a({type:"REPORT_CONTENT_DISMISS"}),[]),d=(0,s.useCallback)((e,t,s)=>a({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:t,videoDuration:null,viewParameter:null,viewType:null,type:s,nodeId:null}}),[]),u=(0,s.useCallback)((e,t,s)=>a({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:s,type:"conversation",nodeId:null}}),[]),E=(0,s.useCallback)(({id:e,viewParameter:t,viewType:s,nodeId:r})=>a({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:s,type:"pin",nodeId:r}}),[]),_=(0,s.useCallback)(({pinId:e,isDownstreamPromotion:t,hasPromoter:s,firstVideoDuration:r,isProduct:o,viewParameter:n,viewType:i,isThirdPartyAd:d,nodeId:u,auxData:E})=>{a({type:"REPORT_CONTENT_SHOW",payload:{id:e,auxData:E,isProduct:o,isPromoted:(0,l.jL)(t,s),videoDuration:r,viewParameter:n,viewType:i,type:"pin",isThirdPartyAd:d,nodeId:u}})},[]),p=(0,s.useMemo)(()=>({reportData:t,dismiss:r,reportComment:d,reportConversation:u,reportImage:E,reportPin:_}),[t,r,d,u,E,_]);return(0,n.jsx)(i,{value:p,children:e})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/61258-82921a53534fe0ac.mjs.map